# ~/.config/mpd/mpd.conf

# Files and directories ###########################################################
music_directory		"~/Music"
playlist_directory	"~/.config/mpd/playlists"
db_file			"~/.config/mpd/database"
log_file		"~/.config/mpd/mpd.log"  # Changed from syslog for better debugging
pid_file		"~/.config/mpd/pid"
state_file		"~/.config/mpd/state"
sticker_file		"~/.config/mpd/sticker.sql"

# General music daemon options ##################################################
user			"runnr6"
bind_to_address		"127.0.0.1"
port			"6600"
log_level		"default"

# Auto-update settings - FIXED ##################################################
auto_update		"yes"
auto_update_depth	"3"  # Scans subdirectories up to 3 levels deep

# Audio output configuration ####################################################
audio_output {
	type		"pulse"
	name		"PulseAudio Output"
	mixer_type	"software"
}

# Optional: Additional audio output for better compatibility
audio_output {
	type		"fifo"
	name		"Visualizer feed"
	path		"/tmp/mpd.fifo"
	format		"44100:16:2"
}

# MIDI configuration - completely disabled ######################################
decoder {
	plugin		"wildmidi"
	enabled		"no"
}

# Optional: Disable other problematic plugins if needed
# decoder {
# 	plugin		"ffmpeg"
# 	enabled		"yes"
# }

# Input plugins #################################################################
input {
	plugin		"curl"
}

